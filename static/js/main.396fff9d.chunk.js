(this["webpackJsonpswagger-petstore"]=this["webpackJsonpswagger-petstore"]||[]).push([[0],{69:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(15),i=n.n(s),d=n(11),j=n.n(d),l=n(16),h=n(7),o=n(76),b=(n(48),{header:{display:"block",margin:"0 auto",padding:"1rem 0",width:"50%",textAlign:"center"}});function u(){return Object(r.jsx)("div",{style:b.header,children:Object(r.jsx)("h1",{children:"Swagger Pet Store"})})}var O=n(79),x=n(72),p=n(73),g=n(80),f={toast:{float:"right"}};function v(e){var t,n,a=e.setShow,c=e.show,s=e.alertData,i=s.status,d=s.data;return 200!==i?(t="Error",n="There was an issue"):(t="Success",n="".concat(d.name,", has been sold.")),Object(r.jsx)("div",{style:f.toast,children:Object(r.jsxs)(g.a,{onClose:function(){return a(!1)},show:c,delay:3e3,autohide:!0,children:[Object(r.jsx)(g.a.Header,{children:Object(r.jsx)("strong",{className:"mr-auto",children:t})}),Object(r.jsx)(g.a.Body,{children:n})]})})}var m=n(33),w=n.n(m),y=function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"GET",url:"https://petstore.swagger.io/v2/pet/findByStatus?status=".concat(t)});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w()({method:"PUT",url:"https://petstore.swagger.io/v2/pet",data:t});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k={trashCan:{color:"#28a745"},noDataMsg:{textAlign:"center",width:"100%",display:"table"}};function C(e){var t,n=e.data,c=e.petStatus,s=Object(a.useState)(!1),i=Object(h.a)(s,2),d=i[0],o=i[1],b=Object(a.useState)({}),u=Object(h.a)(b,2),g=u[0],f=u[1],m=function(){var e=Object(l.a)(j.a.mark((function e(t){var n,r,a,c,s,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=t.currentTarget.dataset.id,r=document.getElementById(n).children,a={},c=0;c<r.length-2;c++)s=r[c].textContent,a[r[c].dataset.name]=s;return a.status="sold",e.next=7,S(a);case 7:i=e.sent,f(i),o(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(c){case"available":t=0===n.length?Object(r.jsx)(O.a,{variant:"warning",style:k.noDataMsg,children:"No available pets."}):Object(r.jsxs)(x.a,{striped:!0,bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Id"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Photo Thumbnail"}),Object(r.jsx)("th",{children:"Status"}),Object(r.jsx)("th",{children:'Mark as "Sold"'})]})}),Object(r.jsx)("tbody",{children:n.map((function(e,t){return Object(r.jsxs)("tr",{id:t,children:[Object(r.jsx)("td",{"data-name":"id",children:e.id}),Object(r.jsx)("td",{"data-name":"name",children:e.name}),Object(r.jsx)("td",{"data-name":"photoUrl",children:Object(r.jsx)("img",{alt:"pet",src:"https://placedog.net/50"})}),Object(r.jsx)("td",{"data-name":"status",children:e.status}),Object(r.jsx)("td",{onClick:m,"data-id":t,children:Object(r.jsx)(p.a,{onClick:m,"data-id":t,size:20,style:k.trashCan})})]},t)}))})]});break;case"pending":t=0===n.length?Object(r.jsx)(O.a,{variant:"warning",style:k.noDataMsg,children:"No pending pets."}):Object(r.jsxs)(x.a,{striped:!0,bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Id"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Photo Thumbnail"}),Object(r.jsx)("th",{children:"Status"})]})}),Object(r.jsx)("tbody",{children:n.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.id}),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:Object(r.jsx)("img",{alt:"pet",src:"https://placedog.net/50"})}),Object(r.jsx)("td",{children:e.status})]},t)}))})]});break;case"sold":t=0===n.length?Object(r.jsx)(O.a,{variant:"warning",style:k.noDataMsg,children:"No sold pets."}):Object(r.jsxs)(x.a,{striped:!0,bordered:!0,hover:!0,children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Id"}),Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Photo Thumbnail"}),Object(r.jsx)("th",{children:"Status"})]})}),Object(r.jsx)("tbody",{children:n.map((function(e,t){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:e.id}),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:Object(r.jsx)("img",{alt:"pet",src:"https://placedog.net/50"})}),Object(r.jsx)("td",{children:e.status})]},t)}))})]});break;default:t=Object(r.jsx)(r.Fragment,{})}return Object(r.jsxs)("div",{children:[t,Object(r.jsx)(v,{alertData:g,setShow:o,show:d})]})}var P=n(74),T=n(75),D={group:{float:"right",marginBottom:"1rem"}};function M(e){return Object(r.jsx)("div",{style:D.group,children:Object(r.jsxs)(P.a,{children:[Object(r.jsx)(T.a,{variant:"secondary","data-status":"available",onClick:e.handleSearch,children:"Available"}),Object(r.jsx)(T.a,{variant:"secondary","data-status":"pending",onClick:e.handleSearch,children:"Pending"}),Object(r.jsx)(T.a,{variant:"secondary","data-status":"sold",onClick:e.handleSearch,children:"Sold"})]})})}var I={footer:{textAlign:"center"},link:{textDecoration:"none"}};function N(){return Object(r.jsx)("div",{style:I.footer,children:Object(r.jsxs)("p",{children:["Made by ",Object(r.jsx)("a",{style:I.link,href:"https://terrence.codes",target:"_blank",rel:"noreferrer",children:"Terrence Mahnken"})," using ",Object(r.jsx)("a",{style:I.link,href:"https://petstore.swagger.io/",target:"_blank",rel:"noreferrer",children:"Swagger Petstore API"}),"."]})})}n(77),n(78);var B=function(e,t){var n=10*t;return e.slice(n,n+10)},A={app:{display:"flex",flexDirection:"column",minHeight:"100%"},container:{flex:"1 0 auto"}};var E=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),i=Object(h.a)(s,2),d=i[0],b=i[1],O=Object(a.useState)(0),x=Object(h.a)(O,2),p=x[0],g=(x[1],Object(a.useState)(0)),f=Object(h.a)(g,2),v=(f[0],f[1]),m=Object(a.useState)(""),w=Object(h.a)(m,2),S=w[0],k=w[1],P=function(){var e=Object(l.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c([]),n=t.target.dataset.status,k(n),e.prev=3,e.next=6,y(n);case 6:r=e.sent,c(r),v((a=r.length,Math.ceil(a/10))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}var a}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(n,p);case 2:t=e.sent,b(t);case 4:case"end":return e.stop()}}),e)}))),[n]),Object(r.jsxs)("div",{style:A.app,children:[Object(r.jsx)(u,{}),Object(r.jsxs)(o.a,{style:A.container,children:[Object(r.jsx)(M,{handleSearch:P}),Object(r.jsx)(C,{petStatus:S,data:d})]}),Object(r.jsx)(N,{})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,81)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(E,{})}),document.getElementById("root")),F()}},[[69,1,2]]]);
//# sourceMappingURL=main.396fff9d.chunk.js.map